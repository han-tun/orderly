<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Information on current orderly run — orderly_run_info • orderly</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Information on current orderly run — orderly_run_info" />
<meta property="og:description" content="This function allows inspection of some of orderly's metadata
during an orderly run.  The format returned is internal to orderly
and subject to change.  It is designed to be used within report
code.  To use in conjunction with
orderly_test_start, you must pass in the path to the
report in question." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">orderly</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/orderly.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/changelog.html">orderly changelog</a>
    </li>
    <li>
      <a href="../articles/remote.html">orderly remotes</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/vimc/orderly">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Information on current orderly run</h1>
    <small class="dont-index">Source: <a href='https://github.com/vimc/orderly/blob/master/R/recipe_run.R'><code>R/recipe_run.R</code></a></small>
    <div class="hidden name"><code>orderly_run_info.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function allows inspection of some of orderly's metadata
during an orderly run.  The format returned is internal to orderly
and subject to change.  It is designed to be used within report
code.  To use in conjunction with
<code><a href='orderly_test_start.html'>orderly_test_start</a></code>, you must pass in the path to the
report in question.</p>
    </div>

    <pre class="usage"><span class='fu'>orderly_run_info</span>(<span class='kw'>path</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>path</th>
      <td><p>Path to the report currently being run.  This should
be left as <code>NULL</code> when running a report, and the path to
the report being run should be used when using
<code><a href='orderly_test_start.html'>orderly_test_start</a></code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list of metadata about the current report</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>path</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>orderly</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/pkg/orderly/man/orderly_example.html'>orderly_example</a></span>(<span class='st'>"demo"</span>)

<span class='co'># This example uses orderly_run_info within its script, saving the</span>
<span class='co'># output to "output.rds"</span>
<span class='fu'><a href='https://rdrr.io/r/base/readLines.html'>readLines</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(<span class='no'>path</span>, <span class='st'>"src"</span>, <span class='st'>"use_dependency"</span>, <span class='st'>"script.R"</span>))</div><div class='output co'>#&gt; [1] "d &lt;- read.csv(\"incoming.csv\", stringsAsFactors = FALSE)"
#&gt; [2] ""                                                         
#&gt; [3] "png(\"graph.png\")"                                       
#&gt; [4] "par(mar = c(15, 4, .5, .5))"                              
#&gt; [5] "barplot(setNames(d$number, d$name), las = 2)"             
#&gt; [6] "dev.off()"                                                
#&gt; [7] ""                                                         
#&gt; [8] "info &lt;- orderly::orderly_run_info()"                      
#&gt; [9] "saveRDS(info, \"info.rds\")"                              </div><div class='input'>
<span class='co'># Run the dependency:</span>
<span class='no'>id</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>orderly</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/pkg/orderly/man/orderly_run.html'>orderly_run</a></span>(<span class='st'>"other"</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>nmin</span> <span class='kw'>=</span> <span class='fl'>0</span>), <span class='kw'>root</span> <span class='kw'>=</span> <span class='no'>path</span>)</div><div class='output co'>#&gt; <span class='message'>[ name       ]  other</span></div><div class='output co'>#&gt; <span class='message'>[ id         ]  20200302-113148-fb9aae8e</span></div><div class='output co'>#&gt; <span class='message'>[ sources    ]  functions.R</span></div><div class='output co'>#&gt; <span class='message'>[ parameter  ]  nmin: 0</span></div><div class='output co'>#&gt; <span class='message'>[ data       ]  source =&gt; extract: 20 x 2</span></div><div class='output co'>#&gt; <span class='message'>[ start      ]  2020-03-02 11:31:48</span></div><div class='output co'>#&gt; 
#&gt; &gt; extract$number &lt;- extract$number + rnorm(1)
#&gt; 
#&gt; &gt; write.csv(extract, "summary.csv", row.names = TRUE)
#&gt; 
#&gt; &gt; png("graph.png")
#&gt; 
#&gt; &gt; par(mar = c(15, 4, 0.5, 0.5))
#&gt; 
#&gt; &gt; do_plot(extract)</div><div class='output co'>#&gt; 
#&gt; &gt; dev.off()
#&gt; pdf 
#&gt;   2 </div><div class='output co'>#&gt; <span class='message'>[ end        ]  2020-03-02 11:31:49</span></div><div class='output co'>#&gt; <span class='message'>[ elapsed    ]  Ran report in 0.01117611 secs</span></div><div class='output co'>#&gt; <span class='message'>[ artefact   ]  summary.csv: 01c70f6e51fab381154775c7e70ed7b3</span>
#&gt; <span class='message'>[ ...        ]  graph.png: 9918b4caa5f89dff21a92e8a4fdeb7c3</span></div><div class='input'><span class='kw pkg'>orderly</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/pkg/orderly/man/orderly_commit.html'>orderly_commit</a></span>(<span class='no'>id</span>, <span class='kw'>root</span> <span class='kw'>=</span> <span class='no'>path</span>)</div><div class='output co'>#&gt; <span class='message'>[ commit     ]  other/20200302-113148-fb9aae8e</span></div><div class='output co'>#&gt; <span class='message'>[ copy       ]</span></div><div class='output co'>#&gt; <span class='message'>[ import     ]  other:20200302-113148-fb9aae8e</span></div><div class='output co'>#&gt; <span class='message'>[ success    ]  :)</span></div><div class='output co'>#&gt; [1] "/tmp/Rtmp3R7mks/file3d54d11aa6/archive/other/20200302-113148-fb9aae8e"</div><div class='input'>
<span class='co'># Then the report</span>
<span class='no'>id</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>orderly</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/pkg/orderly/man/orderly_run.html'>orderly_run</a></span>(<span class='st'>"use_dependency"</span>, <span class='kw'>root</span> <span class='kw'>=</span> <span class='no'>path</span>)</div><div class='output co'>#&gt; <span class='message'>[ name       ]  use_dependency</span></div><div class='output co'>#&gt; <span class='message'>[ id         ]  20200302-113149-39d5d84d</span></div><div class='output co'>#&gt; <span class='message'>[ depends    ]  other@20200302-113148-fb9aae8e:summary.csv -&gt; incoming.csv</span></div><div class='output co'>#&gt; <span class='message'>[ start      ]  2020-03-02 11:31:49</span></div><div class='output co'>#&gt; 
#&gt; &gt; d &lt;- read.csv("incoming.csv", stringsAsFactors = FALSE)
#&gt; 
#&gt; &gt; png("graph.png")
#&gt; 
#&gt; &gt; par(mar = c(15, 4, 0.5, 0.5))
#&gt; 
#&gt; &gt; barplot(setNames(d$number, d$name), las = 2)</div><div class='output co'>#&gt; 
#&gt; &gt; dev.off()
#&gt; pdf 
#&gt;   2 
#&gt; 
#&gt; &gt; info &lt;- orderly::orderly_run_info()
#&gt; 
#&gt; &gt; saveRDS(info, "info.rds")</div><div class='output co'>#&gt; <span class='message'>[ end        ]  2020-03-02 11:31:49</span></div><div class='output co'>#&gt; <span class='message'>[ elapsed    ]  Ran report in 0.01196003 secs</span></div><div class='output co'>#&gt; <span class='message'>[ artefact   ]  graph.png: 9918b4caa5f89dff21a92e8a4fdeb7c3</span>
#&gt; <span class='message'>[ ...        ]  info.rds: 1f4659146c08e14bc70eefd3e8113526</span></div><div class='input'>
<span class='co'># This is the contents:</span>
<span class='fu'><a href='https://rdrr.io/r/base/readRDS.html'>readRDS</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(<span class='no'>path</span>, <span class='st'>"draft"</span>, <span class='st'>"use_dependency"</span>, <span class='no'>id</span>, <span class='st'>"info.rds"</span>))</div><div class='output co'>#&gt; $data
#&gt; NULL
#&gt; 
#&gt; $script
#&gt; [1] "script.R"
#&gt; 
#&gt; $artefacts
#&gt;      filenames   description                          format       
#&gt; [1,] "graph.png" "A summary graph"                    "staticgraph"
#&gt; [2,] "info.rds"  "Example of orderly_run_info output" "data"       
#&gt; 
#&gt; $depends
#&gt;                         id  name draft    filename           as is_pinned index
#&gt; 1 20200302-113148-fb9aae8e other    NA summary.csv incoming.csv     FALSE     1
#&gt;                                                                    path
#&gt; 1 /tmp/Rtmp3R7mks/file3d54d11aa6/archive/other/20200302-113148-fb9aae8e
#&gt;   is_latest                             hash                time id_requested
#&gt; 1      TRUE 01c70f6e51fab381154775c7e70ed7b3 2020-03-02 11:31:49       latest
#&gt; 
#&gt; $displayname
#&gt; [1] "Report using a dependency"
#&gt; 
#&gt; $author
#&gt; [1] "Dr Very Serious"
#&gt; 
#&gt; $requester
#&gt; [1] "ACME"
#&gt; 
#&gt; $comment
#&gt; [1] NA
#&gt; 
#&gt; $name
#&gt; [1] "use_dependency"
#&gt; 
#&gt; $script_hash
#&gt; [1] "fd8a8beb696d62013e70ecb77f670052"
#&gt; 
#&gt; $hash
#&gt; [1] "e0b738e70a3b1d0e7404ddb2984cdd18"
#&gt; 
#&gt; $path
#&gt; [1] "/tmp/Rtmp3R7mks/file3d54d11aa6/src/use_dependency"
#&gt; 
#&gt; $id
#&gt; [1] "20200302-113149-39d5d84d"
#&gt; 
#&gt; $workdir
#&gt; [1] "/tmp/Rtmp3R7mks/file3d54d11aa6/draft/use_dependency/20200302-113149-39d5d84d"
#&gt; 
#&gt; $owd
#&gt; [1] "/orderly/docs/reference"
#&gt; 
#&gt; $inputs
#&gt;   file_purpose    filename                        file_hash file_size
#&gt; 1  orderly_yml orderly.yml 146a5fc70197dfdb3aaf54586dcec6ee       358
#&gt; 2       script    script.R fd8a8beb696d62013e70ecb77f670052       220
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Rich FitzJohn, Robert Ashton, Alex Hill, Martin Eden, Wes Hinsley, Emma Russell, James Thompson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


